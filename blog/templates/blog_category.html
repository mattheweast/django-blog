{% extends 'base.html' %}
{% load markdown_extras %}
{% block page_content %}
<div class="post-list-header">
    <h1>Category: {{ category|title }}</h1>
    <p class="text-muted">Posts tagged with "{{ category }}"</p>
    <p><a href="{% url 'blog_index' %}" class="nav-link">← Back to feed</a></p>
</div>

{% for post in posts %}
    <article class="post-card">
        <h2><a href="{% url 'blog_detail' pk=post.pk %}">{{ post.title }}</a></h2>
        <div class="post-meta">
            Posted on {{ post.created_on|date:"F d, Y" }}
        </div>
        <p class="post-excerpt">{{ post.body|markdown|truncatewords_html:40|safe }}</p>
    </article>
{% empty %}
    <div class="empty-state">
        <p>No posts in this category yet.</p>
        <p><a href="{% url 'blog_index' %}">← Back to all posts</a></p>
    </div>
{% endfor %}
{% endblock %}